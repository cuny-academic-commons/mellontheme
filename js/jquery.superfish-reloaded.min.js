/*
 * Superfish v1.5 - jQuery menu widget
 * Copyright (c) 2012 Bob Gregor
 *
 * Dual licensed under the MIT and GPL licenses:
 * 	http://www.opensource.org/licenses/mit-license.php
 * 	http://www.gnu.org/licenses/gpl.html
 *
 * CHANGELOG: https://github.com/bobbravo2/superfish/blob/master/changelog.txt
 */
(function(b){var a={};a.c={menuClass:"sf-js-enabled",subClass:"sf-sub-indicator",anchorClass:"sf-with-ul"};a.defaults={hoverClass:"sfHover",pathClass:"overideThisToUse",pathLevels:1,delay:700,animIn:{opacity:"show"},animOut:{opacity:"hide"},easeIn:"swing",easeOut:"swing",speedIn:"normal",speedOut:"normal",autoArrows:true,arrow:'<span class="'+a.c.subClass+'">&#187;</span>',disableHI:false,onInit:function(){},onAfterInit:function(){},onBeforeShow:function(){},onShow:function(){},onBeforeHide:function(){},onHide:function(){}};b.fn.superfish=function(c){if(a.methods[c]){return a.methods[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.methods.init.apply(this,arguments)}else{b.error("Method "+c+" does not exist on jQuery.superfish")}}};a.methods={init:function(c){return this.each(function(){var e=b(this),g=e.data("superfish"),h=b.extend({},a.defaults,c);if(!g){var d=e.find("li");var f=d.find("ul");e.data("superfish",{target:e,timer:null,uls:f,lis:d,options:h});g=e.data("superfish")}if(g.initialized){if(typeof(console)!="undefined"){console.warn("superfish already initialized on",this)}return this}g.initialized=true;if(typeof(h.speedOut)==="string"){h.speedOut=600}if(b.browser.msie&&(parseInt(b.browser.version)<=6)){return}if(g.uls.length==0){if(typeof(console)!="undefined"){console.warn("no ul's found on parent menu item, exiting")}return this}e.addClass(a.c.menuClass);h.onInit.call(null,e);if(h.autoArrows){b("li:has(ul)",g.target).addClass(a.c.anchorClass).children("A").append(h.arrow)}g.uls.hide();g.lis.delegate("a","mouseenter mouseleave",function(j){var i=b(this),k=i.parent("li");$next=k.children("UL").first();if(j.type=="mouseenter"){clearTimeout(g.timer);g.lis.not(k).not(k.parents()).removeClass(h.hoverClass);k.addClass(h.hoverClass);if($next.is(":hidden")){h.onBeforeShow.call(null,$next);$next.animate(h.animIn,h.speedIn,h.easeIn,function(){h.onShow.call(null,$next)})}}else{if(j.type=="mouseleave"){g.timer=setTimeout(function(){a.methods.close(e)},h.delay)}else{console.warn(" $(this), event.type",b(this),j.type)}}j.preventDefault();j.stopPropagation();return false});if(h.pathClass!==a.defaults.pathClass){console.warn("@TODO pathClass enabled");b("li."+h.pathClass,e).slice(0,h.pathLevels)}h.onAfterInit.call(null,e)})},close:function(c){if(typeof(c)=="undefined"){var c=b(this)}return c.each(function(){var d=c.data("superfish"),e=d.options;e.onBeforeHide.call(null,c);d.uls.animate(e.animOut,e.speedOut,e.easeOut,function(){e.onHide.call(null,b(this))});setTimeout(function(){d.uls.hide();d.lis.removeClass(e.hoverClass)},e.speedOut)})},destroy:function(){return this.each(function(){if(b(this).data("superfish")){var c=b(this).data("superfish"),d=c.options;c.target.removeClass(a.c.menuClass);c.uls.removeAttr("style");if(d.autoArrows){b("li:has(ul)",c.target).removeClass(a.c.anchorClass);b("."+a.c.subClass,c.target).remove()}c.lis.undelegate("a","mouseenter mouseleave");b(this).removeData("superfish")}else{if(typeof(console)!=="undefined"){console.warn("Superfish not initialized on that dom element")}}})}}})(jQuery);